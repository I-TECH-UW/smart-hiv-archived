@prefix fhir: <http://hl7.org/fhir/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

# - resource -------------------------------------------------------------------

<http://fhir.org/guides/who/anc-cds/PlanDefinition/HIVD17DT> a fhir:PlanDefinition ;
  fhir:nodeRole fhir:treeRoot ;
  fhir:id [ fhir:v "HIVD17DT"] ; # 
  fhir:text [
     fhir:status [ fhir:v "generated" ] ;
     fhir:div "<div xmlns=\"http://www.w3.org/1999/xhtml\"><p><b>Generated Narrative: PlanDefinition </b><a name=\"HIVD17DT\"> </a><a name=\"hcHIVD17DT\"> </a></p><div style=\"display: inline-block; background-color: #d9e0e7; padding: 6px; margin: 4px; border: 1px solid #8da1b4; border-radius: 5px; line-height: 60%\"><p style=\"margin-bottom: 0px\">ResourcePlanDefinition &quot;HIVD17DT&quot; </p></div><p><b>url</b>: <code>http://fhir.org/guides/who/anc-cds/PlanDefinition/HIVD17DT</code></p><p><b>identifier</b>: HIV.D17.DT (use: official)</p><p><b>version</b>: 0.3.0</p><p><b>name</b>: HIVD17DT</p><p><b>title</b>: HIV.D17.DT</p><p><b>type</b>: ECA Rule <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (<a href=\"http://terminology.hl7.org/5.5.0/CodeSystem-plan-definition-type.html\">PlanDefinitionType</a>#eca-rule)</span></p><p><b>status</b>: active</p><p><b>experimental</b>: false</p><p><b>date</b>: 2024-03-26 13:56:58+0300</p><p><b>publisher</b>: World Health Organization (WHO) </p><p><b>contact</b>: <a href=\"https://www.who.int\">https://www.who.int</a></p><p><b>description</b>: Check for treatment failure\n</p><h3>UseContexts</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Code</b></td><td><b>Value[x]</b></td></tr><tr><td style=\"display: none\">*</td><td>Workflow Task (Details: UsageContextType code task  = ' Workflow Task ', stated as ' Workflow Task ')</td><td>Check for signs of treatment failure <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (activity-codes#HIV.D17)</span></td></tr></table><p><b>jurisdiction</b>: Global (Whole world) <span style=\"background: LightGoldenRodYellow; margin: 4px; border: 1px solid khaki\"> (m49.htm#001)</span></p><p><b>library</b>: <a href=\"http://fhir.org/guides/who/anc-cds/Library/HIVD17DT\">http://fhir.org/guides/who/anc-cds/Library/HIVD17DT</a></p><blockquote><p><b>action</b></p><p><b>title</b>: HIV.D17.DT</p><h3>Triggers</h3><table class=\"grid\"><tr><td style=\"display: none\">-</td><td><b>Type</b></td><td><b>Name</b></td></tr><tr><td style=\"display: none\">*</td><td>named-event</td><td>HIV.D17 Check for signs of treatment failure</td></tr></table><blockquote><p><b>action</b></p><blockquote><p><b>id</b></p>1</blockquote><p><b>title</b>: Evaluate client for virological failure.Set &quot;Treatment failure&quot;='Virological failure'</p><p><b>description</b>: Evaluate client for virological failure.Set &quot;Treatment failure&quot;='Virological failure'</p><blockquote><p><b>documentation</b></p></blockquote><blockquote><p><b>condition</b></p></blockquote><blockquote><p><b>action</b></p></blockquote><blockquote><p><b>action</b></p></blockquote></blockquote><blockquote><p><b>action</b></p><blockquote><p><b>id</b></p>2</blockquote><p><b>title</b>: Evaluate client for immunological failure.Set &quot;Treatment failure&quot;='Immunological failure'</p><p><b>description</b>: Evaluate client for immunological failure.Set &quot;Treatment failure&quot;='Immunological failure'</p><blockquote><p><b>documentation</b></p></blockquote><blockquote><p><b>condition</b></p></blockquote><blockquote><p><b>action</b></p></blockquote><blockquote><p><b>action</b></p></blockquote></blockquote><blockquote><p><b>action</b></p><blockquote><p><b>id</b></p>3</blockquote><p><b>title</b>: Evaluate client for immunological failure.Set &quot;Treatment failure&quot;='Immunological failure'</p><p><b>description</b>: Evaluate client for immunological failure.Set &quot;Treatment failure&quot;='Immunological failure' 2</p><blockquote><p><b>documentation</b></p></blockquote><blockquote><p><b>condition</b></p></blockquote></blockquote><blockquote><p><b>action</b></p><blockquote><p><b>id</b></p>4</blockquote><p><b>title</b>: Evaluate client for clinical failure.Set &quot;Treatment failure&quot;='Clinical failure'</p><p><b>description</b>: Evaluate client for clinical failure.Set &quot;Treatment failure&quot;='Clinical failure'</p><blockquote><p><b>documentation</b></p></blockquote><blockquote><p><b>condition</b></p></blockquote><blockquote><p><b>action</b></p></blockquote><blockquote><p><b>action</b></p></blockquote></blockquote><blockquote><p><b>action</b></p><blockquote><p><b>id</b></p>5</blockquote><p><b>title</b>: Evaluate client for clinical failure.Set &quot;Treatment failure&quot;='Clinical failure'</p><p><b>description</b>: Evaluate client for clinical failure.Set &quot;Treatment failure&quot;='Clinical failure' 2</p><blockquote><p><b>documentation</b></p></blockquote><blockquote><p><b>condition</b></p></blockquote><blockquote><p><b>action</b></p></blockquote><blockquote><p><b>action</b></p></blockquote></blockquote></blockquote></div>"
  ] ; # 
  fhir:url [ fhir:v "http://fhir.org/guides/who/anc-cds/PlanDefinition/HIVD17DT"^^xsd:anyURI] ; # 
  fhir:identifier ( [
     fhir:use [ fhir:v "official" ] ;
     fhir:value [ fhir:v "HIV.D17.DT" ]
  ] ) ; # 
  fhir:version [ fhir:v "0.3.0"] ; # 
  fhir:name [ fhir:v "HIVD17DT"] ; # 
  fhir:title [ fhir:v "HIV.D17.DT"] ; # 
  fhir:type [
     fhir:coding ( [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/plan-definition-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "eca-rule" ]
     ] )
  ] ; # 
  fhir:status [ fhir:v "active"] ; # 
  fhir:experimental [ fhir:v "false"^^xsd:boolean] ; # 
  fhir:date [ fhir:v "2024-03-26T13:56:58+03:00"^^xsd:dateTime] ; # 
  fhir:publisher [ fhir:v "World Health Organization (WHO) "] ; # 
  fhir:contact ( [
     fhir:telecom ( [
       fhir:system [ fhir:v "url" ] ;
       fhir:value [ fhir:v "https://www.who.int" ]
     ] )
  ] ) ; # 
  fhir:description [ fhir:v "Check for treatment failure\n"] ; # 
  fhir:useContext ( [
     fhir:code [
       fhir:system [ fhir:v "http://terminology.hl7.org/CodeSystem/usage-context-type"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "task" ] ;
       fhir:display [ fhir:v "Workflow Task" ]
     ] ;
     fhir:value [
       a fhir:CodeableConcept ;
       fhir:coding ( [
         fhir:system [ fhir:v "http://fhir.org/guides/who/anc-cds/CodeSystem/activity-codes"^^xsd:anyURI ] ;
         fhir:code [ fhir:v "HIV.D17" ] ;
         fhir:display [ fhir:v "Check for signs of treatment failure" ]
       ] )
     ]
  ] ) ; # 
  fhir:jurisdiction ( [
     fhir:coding ( [
       fhir:system [ fhir:v "http://unstats.un.org/unsd/methods/m49/m49.htm"^^xsd:anyURI ] ;
       fhir:code [ fhir:v "001" ]
     ] )
  ] ) ; # 
  fhir:library ( [
     fhir:v "http://fhir.org/guides/who/anc-cds/Library/HIVD17DT"^^xsd:anyURI ;
     fhir:link <http://fhir.org/guides/who/anc-cds/Library/HIVD17DT>
  ] ) ; # 
  fhir:action ( [
     fhir:title [ fhir:v "HIV.D17.DT" ] ;
     fhir:trigger ( [
       fhir:type [ fhir:v "named-event" ] ;
       fhir:name [ fhir:v "HIV.D17 Check for signs of treatment failure" ]
     ] ) ;
     fhir:action ( [
       fhir:id [ fhir:v "1" ] ;
       fhir:title [ fhir:v "Evaluate client for virological failure.Set \"Treatment failure\"='Virological failure'" ] ;
       fhir:description [ fhir:v "Evaluate client for virological failure.Set \"Treatment failure\"='Virological failure'" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ] ;
         fhir:label [ fhir:v "Consolidated guidelines on HIV prevention, testing, treatment, service delivery and monitoring: recommendations for a public health approach (2021) \nTable 4.11: WHO definitions of clinical, immunological and virological failure for the decision to switch ART regimens\n\nNote (from table 4.11, above): Current WHO clinical and immunological criteria have low sensitivity and positive predictive value for identifying individuals with virological failure. There is currently no proposed alternative definition of treatment failure and no validated alternative definition of immunological failure. Previous guidelines defined immunological failure based on a fall from baseline, which is no longer applicable in the context of CD4-independent treatment initiation. The option of CD4 cell count at 250 cells/mm3 following clinical failure is based on an analysis of data from Uganda and Zimbabwe.\n\nFor WHO Clinical Stage conditions: \nConsolidated guidelines on the use of antiretroviral drugs for treating and preventing HIV infection. 2nd ed. (2016). \nAnnex 10. WHO clinical staging of HIV disease in adults, adolescents and children." ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "(HIV.D17.DT.01)\n  AND (-)\n  AND (\"Visit date\" ≥ \"ART start date\" + 6 months)\n  AND (\"Viral load test result\" > 1000 copies/mL based on two consecutive viral load measurements three months apart, with adherence support following the first viral load test. ART switch after first viral load >1,000 copies/mL for those receiving NNRTI-based regimens)\n  AND (-)\n  AND (-)\n  AND (-)\n  AND (-)" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Evaluate client for virological failure.Set \\\"Treatment failure\\\"='Virological failure'" ]
         ]
       ] ) ;
       fhir:action ( [
         fhir:title [ fhir:v "Evaluate client for virological failure.Set \"Treatment failure\"='Virological failure'" ]
       ] [
         fhir:title [ fhir:v "Evaluate client for virological failure.Viral load above 1000 copies/mL based on two consecutive viral load measurements three months apart, with adherence support following the first viral load test. ART switch after first viral load >1,000 copies/mL for those receiving NNRTI-based regimens.An individual must be taking ART for six months before it can be determined that a regimen has failed.  Individuals with viral load > 50 to < 1000 copies, maintain ARV regimen, enhance adherence counselling and repeat viral load testing after three months. Consider switch after second viral load > 50 to < 1000 copies/mL if people are on NNRTI-based ART" ]
       ] )
     ] [
       fhir:id [ fhir:v "2" ] ;
       fhir:title [ fhir:v "Evaluate client for immunological failure.Set \"Treatment failure\"='Immunological failure'" ] ;
       fhir:description [ fhir:v "Evaluate client for immunological failure.Set \"Treatment failure\"='Immunological failure'" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "(HIV.D17.DT.02)\n  AND ( \"Age\" ≥ 10 years)\n  AND (-)\n  AND (-)\n  AND ( \"Treatment failure\"='Clinical failure')\n  AND (\"CD4 count\" ≤ 250 cells/mm3)\n  AND (-)\n  AND (-)" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Evaluate client for immunological failure.Set \\\"Treatment failure\\\"='Immunological failure'" ]
         ]
       ] ) ;
       fhir:action ( [
         fhir:title [ fhir:v "Evaluate client for immunological failure.Set \"Treatment failure\"='Immunological failure'" ]
       ] [
         fhir:title [ fhir:v "Evaluate client for immunological failure.Without concomitant or recent infection to cause a transient decline in the CD4 cell countCurrent WHO clinical and immunological criteria have low sensitivity and positive predictive value for identifying individuals with virological failure. There is currently no proposed alternative definition of treatment failure and no validated alternative definition of immunological failure" ]
       ] )
     ] [
       fhir:id [ fhir:v "3" ] ;
       fhir:title [ fhir:v "Evaluate client for immunological failure.Set \"Treatment failure\"='Immunological failure'" ] ;
       fhir:description [ fhir:v "Evaluate client for immunological failure.Set \"Treatment failure\"='Immunological failure' 2" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "(((HIV.D17.DT.03)\n  AND (\"Age\" ≥ 10 years)\n  AND (-)\n  AND (-)\n  AND (-)\n  AND (Persistent \"CD4 count\" ≤ 100 cells/mm3)\n  AND (-)\n  AND (-))\n  OR ((HIV.D17.DT.04)\n  AND ( 5 years ≤ \"Age\" < 10 years)\n  AND (-)\n  AND (-)\n  AND (-)\n  AND (Persistent \"CD4 count\" < 100 cells/mm3)\n  AND (-)\n  AND (-)))\n  OR ((HIV.D17.DT.05)\n  AND ( \"Age\" < 5 years)\n  AND (-)\n  AND (-)\n  AND (-)\n  AND (Persistent \"CD4 count\" < 200 cells/mm3)\n  AND (-)\n  AND (-))" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Evaluate client for immunological failure.Set \\\"Treatment failure\\\"='Immunological failure' 2" ]
         ]
       ] )
     ] [
       fhir:id [ fhir:v "4" ] ;
       fhir:title [ fhir:v "Evaluate client for clinical failure.Set \"Treatment failure\"='Clinical failure'" ] ;
       fhir:description [ fhir:v "Evaluate client for clinical failure.Set \"Treatment failure\"='Clinical failure'" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "((HIV.D17.DT.06)\n  AND ( \"Age\" ≥ 10 years)\n  AND (\"Visit date\" ≥ \"ART start date\" + 6 months)\n  AND (-)\n  AND (-)\n  AND (-)\n  AND (New or recurrent \"HIV clinical stage\"='WHO HIV clinical stage 4')\n  AND (-))\n  OR ((HIV.D17.DT.07)\n  AND ( \"Age\" ≥ 10 years)\n  AND (\"Visit date\" ≥ \"ART start date\" + 6 months)\n  AND (-)\n  AND (-)\n  AND (-)\n  AND (New or recurrent \"HIV clinical stage\"='WHO HIV clinical stage 3')\n  AND (\"WHO HIV clinical stage condition or symptom\" IN 'Severe bacterial infections (such as pneumonia, empyema, pyomyositis, bone or joint infection, meningitis, bacteraemia)', 'Pulmonary TB'))" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Evaluate client for clinical failure.Set \\\"Treatment failure\\\"='Clinical failure'" ]
         ]
       ] ) ;
       fhir:action ( [
         fhir:title [ fhir:v "Evaluate client for clinical failure.Set \"Treatment failure\"='Clinical failure'" ]
       ] [
         fhir:title [ fhir:v "Evaluate client for clinical failure.New or recurrent clinical event indicating severe immunodeficiency (WHO clinical stage 4 condition) after six months of effective treatmentThe condition must be differentiated from immune reconstitution inflammatory syndrome occurring after initiating ARTFor adults, certain WHO clinical stage 3 conditions (pulmonary TB and severe bacterial infections) may also indicate treatment failure" ]
       ] )
     ] [
       fhir:id [ fhir:v "5" ] ;
       fhir:title [ fhir:v "Evaluate client for clinical failure.Set \"Treatment failure\"='Clinical failure'" ] ;
       fhir:description [ fhir:v "Evaluate client for clinical failure.Set \"Treatment failure\"='Clinical failure' 2" ] ;
       fhir:documentation ( [
         fhir:type [ fhir:v "citation" ]
       ] ) ;
       fhir:condition ( [
         fhir:kind [ fhir:v "applicability" ] ;
         fhir:expression [
           fhir:description [ fhir:v "(HIV.D17.DT.08)\n  AND ( \nAge < 10 years)\n  AND (\"Visit date\" ≥ \"ART start date\" + 6 months)\n  AND (-)\n  AND (-)\n  AND (-)\n  AND (New or recurrent \"HIV clinical stage\" IN 'WHO HIV clinical stage 3', 'WHO HIV clinical stage 4' except TB)\n  AND (-)" ] ;
           fhir:language [ fhir:v "text/cql-identifier" ] ;
           fhir:expression [ fhir:v "Should Evaluate client for clinical failure.Set \\\"Treatment failure\\\"='Clinical failure' 2" ]
         ]
       ] ) ;
       fhir:action ( [
         fhir:title [ fhir:v "Evaluate client for clinical failure.Set \"Treatment failure\"='Clinical failure'" ]
       ] [
         fhir:title [ fhir:v "Evaluate client for clinical failure. New or recurrent clinical event indicating advanced or severe immunodeficiency (WHO clinical stage 3 and 4 clinical condition except for TB) after six months of effective treatmentThe condition must be differentiated from immune reconstitution inflammatory syndrome occurring after initiating ART" ]
       ] )
     ] )
  ] ) . # 

# -------------------------------------------------------------------------------------

